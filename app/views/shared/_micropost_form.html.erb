<%= form_for(@micropost) do |f| %>
  <%= render 'shared/error_messages', object: f.object %>
  <div class="field">
    <%= f.text_area :content, placeholder: "Compose new micropost...",
                    maxlength: maxchars = Micropost.validators_on(:content)[1].options[:maximum],
                    onKeyUp: "document.getElementById('chars_left').innerHTML= \
                             #{maxchars} - this.value.length" %>
    <div id="chars_left"><%= maxchars %></div>
  </div>
  <%= f.submit "Post", class: "btn btn-large btn-primary" %>
<% end %>